import {Fetcher, graph, UpdateManager} from "rdflib";
import ContactsModuleRdfLib, { ContactsModule } from "@solid-data-modules/contacts-rdflib";

async function contactsDemo() {
// 1Ô∏è‚É£ create rdflib store, fetcher and updater as usual
const store = graph();
const fetcher = new Fetcher(
        store,
        // üí° pass an authenticated fetch
        // to be able to access private resources*
        /* fetch: authenticatedFetch */
);
const updater = new UpdateManager(store);

// 2Ô∏è‚É£ create the contacts module
const module: ContactsModule = new ContactsModuleRdfLib({store, fetcher, updater});

// 3Ô∏è‚É£ use the module to interact with address books and contacts
const uri = await module.createAddressBook({
  containerUri: "https://pod.example/alice/",
  name: "new address book"
})

const contactUri = await module.createNewContact({
  addressBook: uri,
  contact: {
      name: "Maurice Moss",
      email: "maurice.moss@reynholm-industries.example",
      phoneNumber: "0118-999-881-99-9119-725-3"
  },
});

const addressBook = await module.readAddressBook(uri)
console.log(addressBook)
}
